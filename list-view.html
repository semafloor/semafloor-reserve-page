<link rel="import" href="../neon-animation/neon-animation-runner-behavior.html">

<dom-module id="list-view">
  <template>
    <style>
      :host {
        display: block;
      }
    </style>

    <div id="main" class="">
      <template is="dom-repeat" items="[[items]]" index-as="index" strip-whitespace>
        <div class="">
          [[index]]
          [[item.roomInfo.room]]
          [[item.roomInfo.site]]
          [[item.fromTime]]
          [[item.toTime]]
          [[item.subject]]
        </div>
      </template>
    </div>
  </template>
  <script>
    Polymer({
      is: 'list-view',

      behaviors: [
        Polymer.NeonAnimationRunnerBehavior
      ],

      listeners: {
        'tap': '_open'
      },

      properties: {
        animationConfig: {
          type: Object,
          value: function() {
            return {
              'exit': [{
                name: 'hero-animation',
                id: 'hero',
                fromPage: this
              }]
            };
          }
        },

      },

      _open: function(ev) {
        var _target = ev.target;

        while (_target !== this && !_target._templateInstance) {
          _target = _target.parentNode;
        }

        console.log(_target);
        this.set('sharedElements', {
          'hero': _target
        });

        this.fire('item-tap', {
          item: _target
        });
      },

    });
  </script>
</dom-module>
